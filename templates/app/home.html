{% extends 'base.html' %} 
{% block base_content %}

<div class="mx-auto w-[95%] max-w-[1400px] font-sans">
  <header
    class="mb-5 flex items-center justify-between rounded-xl bg-white p-5 shadow-sm border border-gray-100"
  >
    <div class="">
      <h1 class="m-0 text-3xl font-bold text-gray-800">My Articles</h1>
      <p class="mt-1 text-gray-500">
        Manage your contributions and word counts
      </p>
    </div>

    {% if articles %}
    <div class="text-right">
      <span
        class="block text-xs font-semibold uppercase tracking-wider text-gray-400"
        >Performance</span
      >
      <span class="text-lg font-bold text-gray-700">
        üìà {{ user.article_count }} Article{{ user.article_count|pluralize }} |
        ‚úçÔ∏è {{ user.total_word_count }} Word{{ user.total_word_count|pluralize }}
      </span>
    </div>
    {% endif %}
  </header>

  <div class="mb-5">
    <a
      href="{% url 'createArticle' %}"
      class="btn-base btn-primary inline-flex items-center gap-2"
    >
      <span class="text-lg">‚úö</span> Create New Article
    </a>
  </div>

  {% if articles %}
  <div class="grid grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-6">
    {% for article in articles %}
    <div
      class="group flex flex-col justify-between rounded-xl border border-gray-200 bg-white p-6 transition-all duration-200 hover:-translate-y-1 hover:shadow-lg"
    >
      <div>
        <div class="flex items-start justify-between">
          <span
            class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-500"
          >
            ID: {{ article.id }}
          </span>
          <span
            class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-500 uppercase"
          >
            {{ article.status }}
          </span>
        </div>
        <h3
          class="mt-4 text-xl font-semibold leading-tight text-gray-800 transition-colors"
        >
          {{ article.title }}
        </h3>
        <p class="mt-2 text-sm text-gray-600">
          Length:
          <strong class="text-gray-900">{{ article.wordCount }}</strong> words
        </p>
      </div>

      <div class="mt-6 flex gap-3">
        <a
          href="{% url 'updateArticle' pk=article.id %}"
          class="btn-base btn-success"
        >
          Edit
        </a>
        <a
          href="{% url 'deleteArticle' pk=article.id %}"
          class="btn-base btn-danger"
        >
          Delete
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div
    class="rounded-3xl border-2 border-dashed border-gray-200 bg-gray-50 py-20 text-center"
  >
    <h3 class="text-xl text-gray-500 font-medium">
      No articles found. Time to start writing!
    </h3>
  </div>
  {% endif %}
</div>

{% endblock %}
